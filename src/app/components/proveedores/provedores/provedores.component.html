<div class="container mt-4">
  <h1 class="mb-4">Lista de Proveedores</h1>
  
  <!-- Barra de búsqueda y filtros -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Buscar por nombre, contacto o productos..." 
               [(ngModel)]="searchTerm" (input)="filterProveedores()">
        <button class="btn btn-outline-primary" type="button">
          <i class="bi bi-search"></i> Buscar
        </button>
      </div>
    </div>
    <div class="col-md-6 d-flex align-items-center">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="showInactive" 
               [(ngModel)]="showInactive" (change)="toggleInactive()">
        <label class="form-check-label" for="showInactive">Mostrar proveedores inactivos</label>
      </div>
    </div>
  </div>

  <!-- Tabla de proveedores -->
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Contacto</th>
          <th>Teléfono</th>
          <th>Email</th>
          <th>Productos</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let proveedor of filteredProveedores" 
            [class.table-warning]="!proveedor.activo">
          <td>{{ proveedor.id }}</td>
          <td>{{ proveedor.nombre }}</td>
          <td>{{ proveedor.contacto }}</td>
          <td>{{ proveedor.telefono }}</td>
          <td>{{ proveedor.email }}</td>
          <td>
            <div class="d-flex flex-wrap gap-1">
              <span class="badge bg-secondary" *ngFor="let producto of proveedor.productos">
                {{ producto }}
              </span>
            </div>
          </td>
          <td>
            <span class="badge" 
                  [ngClass]="proveedor.activo ? 'bg-success' : 'bg-danger'">
              {{ proveedor.activo ? 'Activo' : 'Inactivo' }}
            </span>
          </td>
          <td>
            <div class="d-flex gap-2">
              <button class="btn btn-sm btn-outline-primary" title="Ver detalle">
                <i class="bi bi-eye"></i>
              </button>
              <button class="btn btn-sm btn-outline-warning" title="Editar">
                <i class="bi bi-pencil"></i>
              </button>
              <button class="btn btn-sm btn-outline-secondary" 
                      title="Cambiar estado" (click)="toggleStatus(proveedor)">
                <i class="bi" [ngClass]="proveedor.activo ? 'bi-toggle-off' : 'bi-toggle-on'"></i>
              </button>
            </div>
          </td>
        </tr>
        <tr *ngIf="filteredProveedores.length === 0">
          <td colspan="8" class="text-center text-muted py-4">
            No se encontraron proveedores con los filtros actuales
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Botón para agregar nuevo proveedor -->
  <button class="btn btn-primary mt-3">
    <i class="bi bi-plus-circle"></i> Agregar Nuevo Proveedor
  </button>
</div>